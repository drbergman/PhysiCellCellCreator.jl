<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Guide · PhysiCellCellCreator.jl</title><meta name="title" content="Guide · PhysiCellCellCreator.jl"/><meta property="og:title" content="Guide · PhysiCellCellCreator.jl"/><meta property="twitter:title" content="Guide · PhysiCellCellCreator.jl"/><meta name="description" content="Documentation for PhysiCellCellCreator.jl."/><meta property="og:description" content="Documentation for PhysiCellCellCreator.jl."/><meta property="twitter:description" content="Documentation for PhysiCellCellCreator.jl."/><meta property="og:url" content="https://drbergman.github.io/PhysiCellCellCreator.jl/man/guide/"/><meta property="twitter:url" content="https://drbergman.github.io/PhysiCellCellCreator.jl/man/guide/"/><link rel="canonical" href="https://drbergman.github.io/PhysiCellCellCreator.jl/man/guide/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">PhysiCellCellCreator.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Manual</span><ul><li class="is-active"><a class="tocitem" href>Guide</a><ul class="internal"><li><a class="tocitem" href="#Cell-patches"><span>Cell patches</span></a></li><li><a class="tocitem" href="#Patch-collection"><span>Patch collection</span></a></li><li><a class="tocitem" href="#Patch"><span>Patch</span></a></li><li><a class="tocitem" href="#Refined-control-of-cell-placement"><span>Refined control of cell placement</span></a></li><li><a class="tocitem" href="#Example-XML"><span>Example XML</span></a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>Guide</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Guide</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/drbergman/PhysiCellCellCreator.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/drbergman/PhysiCellCellCreator.jl/blob/main/docs/src/man/guide.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Guide"><a class="docs-heading-anchor" href="#Guide">Guide</a><a id="Guide-1"></a><a class="docs-heading-anchor-permalink" href="#Guide" title="Permalink"></a></h1><p>You can create a simple XML by running</p><pre><code class="language-julia hljs">using PhysiCellCellCreator
path_to_folder = &quot;template_folder&quot;
createICCellXMLTemplate(path_to_folder) # will create ecm.xml inside the folder &quot;template_folder&quot;</code></pre><p>Then, you can edit the XML file as needed. Note, the root of the XML file is <code>&lt;ic_ecm&gt;</code>.</p><h2 id="Cell-patches"><a class="docs-heading-anchor" href="#Cell-patches">Cell patches</a><a id="Cell-patches-1"></a><a class="docs-heading-anchor-permalink" href="#Cell-patches" title="Permalink"></a></h2><p>The children of the root are <code>&lt;cell_patches&gt;</code> elements, each corresponding to a different cell type in the PhysiCell simulation. The cell type is set by the attribute <code>name</code>, e.g., <code>&lt;cell_patches name=&quot;fibroblast&quot;&gt;</code>.</p><h2 id="Patch-collection"><a class="docs-heading-anchor" href="#Patch-collection">Patch collection</a><a id="Patch-collection-1"></a><a class="docs-heading-anchor-permalink" href="#Patch-collection" title="Permalink"></a></h2><p>Each <code>&lt;cell_patches&gt;</code> element contains a collection of <code>&lt;patch_collection&gt;</code> elements, each containing a particular type of patch. The currently supported patch types are <code>everywhere</code>, <code>disc</code>, <code>annulus</code>, and <code>rectangle</code>. A typical example is <code>&lt;patch_collection type=&quot;everywhere&quot;&gt;</code>.</p><h2 id="Patch"><a class="docs-heading-anchor" href="#Patch">Patch</a><a id="Patch-1"></a><a class="docs-heading-anchor-permalink" href="#Patch" title="Permalink"></a></h2><p>Each <code>&lt;patch_collection&gt;</code> element contains a collection of <code>&lt;patch&gt;</code> elements. Each patch element has an <code>ID</code> attribute, which can be used to identify the patch. Depending on the type of patch, the patch may have different parameters.</p><h3 id="everywhere"><a class="docs-heading-anchor" href="#everywhere"><code>everywhere</code></a><a id="everywhere-1"></a><a class="docs-heading-anchor-permalink" href="#everywhere" title="Permalink"></a></h3><p>The <code>everywhere</code> patch just has a <code>number</code> element, specifying the number of cells to place everywhere.</p><pre><code class="language-xml hljs">&lt;patch ID=&quot;1&quot; type=&quot;everywhere&quot;&gt;
    &lt;number&gt;100&lt;/number&gt;
&lt;/patch&gt;</code></pre><h3 id="disc"><a class="docs-heading-anchor" href="#disc"><code>disc</code></a><a id="disc-1"></a><a class="docs-heading-anchor-permalink" href="#disc" title="Permalink"></a></h3><p>The <code>disc</code> patch has the following parameters:</p><ul><li><code>x0</code>, <code>y0</code>, <code>z0</code>: the center of the disc</li><li><code>radius</code>: the radius of the disc</li><li><code>number</code>: the number of cells to place in the disc</li></ul><pre><code class="language-xml hljs">&lt;patch ID=&quot;1&quot; type=&quot;disc&quot;&gt;
    &lt;x0&gt;100.0&lt;/x0&gt;
    &lt;y0&gt;100.0&lt;/y0&gt;
    &lt;z0&gt;0.0&lt;/z0&gt;
    &lt;radius&gt;50.0&lt;/radius&gt;
    &lt;number&gt;50&lt;/number&gt;
&lt;/patch&gt;</code></pre><p>A <code>disc</code> patch can also have a <code>normal</code> element, defining the normal vector of the disc. If omitted, the normal vector is assumed to be <code>(0, 0, 1)</code>. To set this, add a child element to the patch as <code>&lt;normal&gt;1.0,0.0,0.0&lt;/normal&gt;</code>. Note: the <code>disc</code> really is a 2D disc, not a solid sphere even if the PhysiCell simulation is 3D.</p><h3 id="annulus"><a class="docs-heading-anchor" href="#annulus"><code>annulus</code></a><a id="annulus-1"></a><a class="docs-heading-anchor-permalink" href="#annulus" title="Permalink"></a></h3><p>The <code>annulus</code> patch has identical parameters to the <code>disc</code> patch, but with <code>radius</code> replaced by <code>inner_radius</code> and <code>outer_radius</code>.</p><pre><code class="language-xml hljs">&lt;patch ID=&quot;1&quot; type=&quot;annulus&quot;&gt;
    &lt;x0&gt;100.0&lt;/x0&gt;
    &lt;y0&gt;100.0&lt;/y0&gt;
    &lt;z0&gt;0.0&lt;/z0&gt;
    &lt;inner_radius&gt;50.0&lt;/inner_radius&gt;
    &lt;outer_radius&gt;100.0&lt;/outer_radius&gt;
    &lt;number&gt;50&lt;/number&gt;
&lt;/patch&gt;</code></pre><h3 id="rectangle"><a class="docs-heading-anchor" href="#rectangle"><code>rectangle</code></a><a id="rectangle-1"></a><a class="docs-heading-anchor-permalink" href="#rectangle" title="Permalink"></a></h3><p>The <code>rectangle</code> patch is assumed to be parallel to the xy-plane and has the following parameters:</p><ul><li><code>x0</code>, <code>y0</code>: the bottom-left corner of the rectangle (minimum x and y)</li><li><code>z0</code>: the z-coordinate of the rectangle</li><li><code>width</code>, <code>height</code>: the width and height of the rectangle in the x and y directions, respectively</li><li><code>number</code>: the number of cells to place in the rectangle</li></ul><pre><code class="language-xml hljs">&lt;patch ID=&quot;1&quot; type=&quot;rectangle&quot;&gt;
    &lt;x0&gt;100.0&lt;/x0&gt;
    &lt;y0&gt;100.0&lt;/y0&gt;
    &lt;z0&gt;0.0&lt;/z0&gt;
    &lt;width&gt;50.0&lt;/width&gt;
    &lt;height&gt;100.0&lt;/height&gt;
    &lt;number&gt;50&lt;/number&gt;
&lt;/patch&gt;</code></pre><p>Note: this patch will place cells with x-coordinate in [100.0, 150.0] and y-coordinate in [100.0, 200.0].</p><h2 id="Refined-control-of-cell-placement"><a class="docs-heading-anchor" href="#Refined-control-of-cell-placement">Refined control of cell placement</a><a id="Refined-control-of-cell-placement-1"></a><a class="docs-heading-anchor-permalink" href="#Refined-control-of-cell-placement" title="Permalink"></a></h2><h3 id="Restrict-to-domain"><a class="docs-heading-anchor" href="#Restrict-to-domain">Restrict to domain</a><a id="Restrict-to-domain-1"></a><a class="docs-heading-anchor-permalink" href="#Restrict-to-domain" title="Permalink"></a></h3><p>Each of the above patches (except <code>everywhere</code>) can have a <code>restrict_to_domain</code> element, which will force cells to be placed within the domain as specified by the <code>domain_dict</code> parameter in the <code>generateICCell</code> function. If omitted, it is assumed to be &quot;true&quot;. Possible values are &quot;true&quot;, &quot;false&quot;, &quot;0&quot;, and &quot;1&quot;. Add the following to the patch element to set: <code>&lt;restrict_to_domain&gt;false&lt;/restrict_to_domain&gt;</code>.</p><h3 id="Carveouts"><a class="docs-heading-anchor" href="#Carveouts">Carveouts</a><a id="Carveouts-1"></a><a class="docs-heading-anchor-permalink" href="#Carveouts" title="Permalink"></a></h3><p>Every patch type can also include a <code>&lt;carveout_patches&gt;</code> element, which specifies regions where cells should not be placed. The currently supported carveouts are <code>disc</code>, <code>annulus</code>, and <code>rectangle</code>. These follow the same structure as the patches above, but do not contain a <code>number</code> element. <code>disc</code> and <code>annulus</code> carveouts cannot have a <code>normal</code> element, they are assumed to be parallel to the xy-plane.</p><p>To add a carveout to a patch, add a <code>&lt;carveout_patches&gt;</code> element to the patch, then follow the same XML structure as the patches above.</p><pre><code class="language-xml hljs">&lt;patch ID=&quot;1&quot; type=&quot;disc&quot;&gt;
    &lt;x0&gt;100.0&lt;/x0&gt;
    &lt;y0&gt;100.0&lt;/y0&gt;
    &lt;z0&gt;0.0&lt;/z0&gt;
    &lt;radius&gt;50.0&lt;/radius&gt;
    &lt;number&gt;50&lt;/number&gt;
    &lt;carveout_patches&gt;
        &lt;patch_collections type=&quot;disc&quot;&gt;
            &lt;patch ID=&quot;1&quot;&gt;
                &lt;x0&gt;130.0&lt;/x0&gt;
                &lt;y0&gt;130.0&lt;/y0&gt;
                &lt;z0&gt;0.0&lt;/z0&gt;
                &lt;radius&gt;15.0&lt;/radius&gt;
            &lt;/patch&gt;
        &lt;/patch_collections&gt;
    &lt;/carveout_patches&gt;
&lt;/patch&gt;</code></pre><h3 id="Max-fails"><a class="docs-heading-anchor" href="#Max-fails">Max fails</a><a id="Max-fails-1"></a><a class="docs-heading-anchor-permalink" href="#Max-fails" title="Permalink"></a></h3><p>When attempting to place cells, points taken uniformly randomly from the entire patch are selected and then pared down based on the domain and careveouts. This can lead to a situation where many samplings must be taken to finally achieve <code>number</code> of cells in each patch. In the worst case scenario, a patch has no area and cannot support any cells. To prevent the program from running indefinitely, a <code>max_fails</code> parameter controls how many samples are taken before giving up. If omitted, it is assumed to be 100. Add the following to the patch element (not the carveout, but the patch itself) to set: <code>&lt;max_fails&gt;100&lt;/max_fails&gt;</code>.</p><h2 id="Example-XML"><a class="docs-heading-anchor" href="#Example-XML">Example XML</a><a id="Example-XML-1"></a><a class="docs-heading-anchor-permalink" href="#Example-XML" title="Permalink"></a></h2><p>A full example XML is shown below.</p><pre><code class="language-xml hljs">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;ic_cells&gt;
  &lt;cell_patches name=&quot;default&quot;&gt;
    &lt;patch_collection type=&quot;disc&quot;&gt;
      &lt;patch ID=&quot;1&quot;&gt;
        &lt;x0&gt;0.0&lt;/x0&gt;
        &lt;y0&gt;0.0&lt;/y0&gt;
        &lt;z0&gt;0.0&lt;/z0&gt;
        &lt;radius&gt;40.0&lt;/radius&gt;
        &lt;number&gt;50&lt;/number&gt;
        &lt;normal&gt;0,0,1&lt;/normal&gt;
        &lt;max_fails&gt;100&lt;/max_fails&gt;
        &lt;carveout_patches&gt;
          &lt;patch_collection type=&quot;rectangle&quot;&gt;
            &lt;patch ID=&quot;1&quot;&gt;
              &lt;x0&gt;0.0&lt;/x0&gt;
              &lt;y0&gt;0.0&lt;/y0&gt;
              &lt;z0&gt;0.0&lt;/z0&gt;
              &lt;width&gt;10.0&lt;/width&gt;
              &lt;height&gt;10.0&lt;/height&gt;
            &lt;/patch&gt;
          &lt;/patch_collection&gt;
        &lt;/carveout_patches&gt;
      &lt;/patch&gt;
    &lt;/patch_collection&gt;
    &lt;patch_collection type=&quot;annulus&quot;&gt;
      &lt;patch ID=&quot;1&quot;&gt;
        &lt;x0&gt;50.0&lt;/x0&gt;
        &lt;y0&gt;50.0&lt;/y0&gt;
        &lt;z0&gt;0.0&lt;/z0&gt;
        &lt;inner_radius&gt;10.0&lt;/inner_radius&gt;
        &lt;outer_radius&gt;200.0&lt;/outer_radius&gt;
        &lt;number&gt;50&lt;/number&gt;
        &lt;restrict_to_domain&gt;true&lt;/restrict_to_domain&gt;
      &lt;/patch&gt;
    &lt;/patch_collection&gt;
    &lt;patch_collection type=&quot;rectangle&quot;&gt;
      &lt;patch ID=&quot;1&quot;&gt;
        &lt;x0&gt;-50.0&lt;/x0&gt;
        &lt;y0&gt;-50.0&lt;/y0&gt;
        &lt;z0&gt;0.0&lt;/z0&gt;
        &lt;width&gt;100.0&lt;/width&gt;
        &lt;height&gt;100.0&lt;/height&gt;
        &lt;number&gt;10&lt;/number&gt;
        &lt;carveout_patches&gt;
          &lt;patch_collection type=&quot;disc&quot;&gt;
            &lt;patch ID=&quot;1&quot;&gt;
              &lt;x0&gt;0.0&lt;/x0&gt;
              &lt;y0&gt;0.0&lt;/y0&gt;
              &lt;z0&gt;0.0&lt;/z0&gt;
              &lt;radius&gt;10.0&lt;/radius&gt;
            &lt;/patch&gt;
          &lt;/patch_collection&gt;
        &lt;/carveout_patches&gt;
      &lt;/patch&gt;
    &lt;/patch_collection&gt;
    &lt;patch_collection type=&quot;everywhere&quot;&gt;
      &lt;patch ID=&quot;1&quot;&gt;
        &lt;number&gt;78&lt;/number&gt;
        &lt;carveout_patches&gt;
          &lt;patch_collection type=&quot;annulus&quot;&gt;
            &lt;patch ID=&quot;1&quot;&gt;
              &lt;x0&gt;0.0&lt;/x0&gt;
              &lt;y0&gt;0.0&lt;/y0&gt;
              &lt;z0&gt;0.0&lt;/z0&gt;
              &lt;inner_radius&gt;100.0&lt;/inner_radius&gt;
              &lt;outer_radius&gt;400.0&lt;/outer_radius&gt;
            &lt;/patch&gt;
          &lt;/patch_collection&gt;
        &lt;/carveout_patches&gt;
      &lt;/patch&gt;
    &lt;/patch_collection&gt;
  &lt;/cell_patches&gt;
&lt;/ic_cells&gt;</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../">« Home</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Sunday 9 February 2025 03:35">Sunday 9 February 2025</span>. Using Julia version 1.11.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
